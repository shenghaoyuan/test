/* 
  This file was generated by KreMLin <https://github.com/FStarLang/kremlin>
  KreMLin invocation: krml -verbose -d reachability -I . -I includes -tmpdir /home/shyuan/2-FMCAD2021/riotboot/out/sources -no-prefix FStarFiles /home/shyuan/2-FMCAD2021/riotboot/out/out.krml -ccopt -O0 mymain.c -add-include "kremlin/internal/compat.h" -bundle LowStar.*,Prims -bundle FStar.* -o /home/shyuan/2-FMCAD2021/riotboot/out/main
  F* version: <unknown>
  KreMLin version: 03ccd42f
 */

#include "Main.h"

void Main_main()
{
  Riotboot_hdr_t images[2U] = { Riotboot_rb_slot0, Riotboot_rb_slot1 };
  FStar_Pervasives_Native_option__uint32_t
  slot = Slot_choose_image(Riotboot_rb_slot_numof, images);
  if (slot.tag == FStar_Pervasives_Native_Some)
  {
    uint32_t start_addr = slot.v;
    LowStar_Printf_print_string("Find the suitable image with start address(0d");
    LowStar_Printf_print_u32(start_addr);
    LowStar_Printf_print_string(")\nPlease call the function `cpu_jump_to_image`\n");
  }
  else if (slot.tag == FStar_Pervasives_Native_None)
    LowStar_Printf_print_string("no suitable image found\n");
  else
  {
    KRML_HOST_EPRINTF("KreMLin abort at %s:%d\n%s\n",
      __FILE__,
      __LINE__,
      "unreachable (pattern matches are exhaustive in F*)");
    KRML_HOST_EXIT(255U);
  }
}

